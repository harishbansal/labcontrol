To Do file for labcontrol:

(See NOTES file for how to restart work)

= to do =
 - switch lc to use api paths (?)
 - support reservations
 - support users
 - allow users to connect resources to boards
 - allow users to disconnect resources from boards
 - allow users register boards
 - allow users register resources
 - allow users to update board info
 - allow users to update resource info
 - support 'lc board bbb reboot'

Things that work:
 + lc list boards - using action api
 + lc list resources - using action api
 + wget -q -O- http://localhost:8000/api/devices - using path api
 + wget .../api/devices/bbb
 + wget .../api/devices/bbb/power
 + wget .../api/devices/bbb/power/status
 + wget .../api/devices/bbb/power/on
 + wget .../api/devices/bbb/power/off
 + wget .../api/devices/bbb/power/reboot

= high level to dos =
 - define schema for commands
   - see https://fuegotest.org/wiki/LabControl_project
 - define lab objects/resources
   + define boards statically
   + power controller
   - bus controller
   - power monitor
   - serial connection
   - network connection
 - define object attributes
   - boards: name, lab, description, power-controller
 - define resource verbs
   - turn on/turn off
   - connect
   - configure
   - start/stop
 - define labcontrol operations
   - query objects/resources

Postponed for now:
 - add security
   - require authentication itself to add, update or remove requests
   - require authentication to add tests or binary packages

 - eliminate pages directory
   - don't create tbwiki file for request in do_put_request
 - integrate FuegoShow into fserver.py
   - is fuego integration being added or removed?

= security notes =
     - use otp file (lab-<labname>.otp) to authenticate operations
       - use for only certain operations:
         - submission of requests, tests, binary-packages
         - change of state for requests
       (others operations don't need security, unless server is private)
         - is this correct
     - algorithm to use the file is:
       - on client side:
         - select offset
           - generate random offset (multiple of 32)
         - seek to that offset
           - read file (32 bytes), is value is zero, start over
             - if start over too many times, search linearly for next
                non-zero address, starting from last seek position
           - zero out the bytes at the offset
           - sync file
         - send (labname, offset and value) with operation
       - on server side:
         - select file using labname
         - seek to offset read value
           - keep a log of operations, per lab: IP, offset, time
           - prevent DOS attack by limiting operations to once per second
         - zero out bytes at the offset
         - compare sent and read values
           - if no match, reject request
           - if match, accept request
       - create tool to show percent used of otp file
